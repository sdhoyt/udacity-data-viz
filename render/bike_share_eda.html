<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-0.9.351">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sean Hoyt">
<meta name="dcterms.date" content="2022-04-22">

<title>Bike Share Data Exploration</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="bike_share_eda_files/libs/clipboard/clipboard.min.js"></script>
<script src="bike_share_eda_files/libs/quarto-html/quarto.js"></script>
<script src="bike_share_eda_files/libs/quarto-html/popper.min.js"></script>
<script src="bike_share_eda_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="bike_share_eda_files/libs/quarto-html/anchor.min.js"></script>
<link href="bike_share_eda_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link id="quarto-text-highlighting-styles" href="bike_share_eda_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
<script src="bike_share_eda_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="bike_share_eda_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="bike_share_eda_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Bike Share Data Exploration</h1>
</div>





<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Sean Hoyt </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 22, 2022</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>The bike sharing dataset includes information about individual rides made in a bike-sharing system covering the greater San Francisco Bay area. The dataset being used in this analysis is limited to February 1, 2019 to March 1, 2019. As part of the data exploration, we will investigate various features included in this dataset in preparation for a more targeted report on the data.</p>
</section>
<section id="preliminary-wrangling" class="level2">
<h2 class="anchored" data-anchor-id="preliminary-wrangling">Preliminary Wrangling</h2>
<div class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import all packages and set plots to be embedded inline</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>matplotlib inline</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get the dat of week from a date time</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_day_of_week(df, col):</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">'day_of_week'</span>] <span class="op">=</span> df[col].dt.day_of_week</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># make a list of days of week to replace the numbers (0-6) generated from the dt.day_of_week</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    days_of_week <span class="op">=</span> [<span class="st">"Monday"</span>, <span class="st">"Tuesday"</span>, <span class="st">"Wednesday"</span>, <span class="st">"Thursday"</span>, <span class="st">"Friday"</span>, <span class="st">"Saturday"</span>, <span class="st">"Sunday"</span>]</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># replace the numbered values with the strings of the days of the week</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">'day_of_week'</span>] <span class="op">=</span> df.day_of_week.replace(to_replace<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>], value<span class="op">=</span>days_of_week)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># make the days categorical types</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    days <span class="op">=</span> pd.api.types.CategoricalDtype(ordered<span class="op">=</span><span class="va">True</span>, categories<span class="op">=</span>days_of_week)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># cast the days of week column as the days categorical type</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> df[<span class="st">'day_of_week'</span>].astype(days)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>First, we’ll load the data, making sure to parse the <code>start_time</code> and <code>end_time</code> as datetimes, and look at the structure of the data. There are multiple features in this dataset that are worth exploring. We can drop those that are not of any interest.</p>
<div class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load the data and parse date columns as datetimes</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>bike_raw <span class="op">=</span> pd.read_csv(<span class="st">"data/201902-fordgobike-tripdata.csv"</span>, parse_dates<span class="op">=</span>[<span class="st">"start_time"</span>, <span class="st">"end_time"</span>])</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># examine the data structure</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>bike_raw.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 183412 entries, 0 to 183411
Data columns (total 16 columns):
 #   Column                   Non-Null Count   Dtype         
---  ------                   --------------   -----         
 0   duration_sec             183412 non-null  int64         
 1   start_time               183412 non-null  datetime64[ns]
 2   end_time                 183412 non-null  datetime64[ns]
 3   start_station_id         183215 non-null  float64       
 4   start_station_name       183215 non-null  object        
 5   start_station_latitude   183412 non-null  float64       
 6   start_station_longitude  183412 non-null  float64       
 7   end_station_id           183215 non-null  float64       
 8   end_station_name         183215 non-null  object        
 9   end_station_latitude     183412 non-null  float64       
 10  end_station_longitude    183412 non-null  float64       
 11  bike_id                  183412 non-null  int64         
 12  user_type                183412 non-null  object        
 13  member_birth_year        175147 non-null  float64       
 14  member_gender            175147 non-null  object        
 15  bike_share_for_all_trip  183412 non-null  object        
dtypes: datetime64[ns](2), float64(7), int64(2), object(5)
memory usage: 22.4+ MB</code></pre>
</div>
</div>
<div class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># drop the features that won't be explored</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>bike <span class="op">=</span> bike_raw.drop(labels<span class="op">=</span>[<span class="st">'start_station_id'</span>, <span class="st">'end_station_id'</span>], axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>One feature that will be worth exploring is what day of the week each rental took place. To do that, we need to extract the day of the week from the <code>start_time</code>.</p>
<div class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># drop the features that won't be explored</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>bike <span class="op">=</span> bike_raw.drop(labels<span class="op">=</span>[<span class="st">'start_station_id'</span>, <span class="st">'end_station_id'</span>], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># get the day of the week from the datetime</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>bike[<span class="st">"day_of_week"</span>] <span class="op">=</span> get_day_of_week(bike, <span class="st">"start_time"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Another interesting feature is which station start / end combinations are most popular. Do do that, we can create a new column containing the combination string.</p>
<div class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># concatenate the start and end stations into one string to more easily analyze the station combinations</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>bike[<span class="st">"station_combo"</span>] <span class="op">=</span> bike[<span class="st">"start_station_name"</span>] <span class="op">+</span> <span class="st">"/"</span> <span class="op">+</span> bike[<span class="st">"end_station_name"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="what-is-the-structure-of-your-dataset" class="level3">
<h3 class="anchored" data-anchor-id="what-is-the-structure-of-your-dataset">What is the structure of your dataset?</h3>
<p>The data contains information on the times and locations of the bike rentals along with information on the individual renting the bike. The data is largly categorical apart from the duration of the trip and the date/time that the rent started and ended. Because this data is largely categorical, there will likely be little use of scatter plots and heavier use of bar plots.</p>
</section>
<section id="what-isare-the-main-features-of-interest-in-your-dataset" class="level3">
<h3 class="anchored" data-anchor-id="what-isare-the-main-features-of-interest-in-your-dataset">What is/are the main feature(s) of interest in your dataset?</h3>
<p>The main features of interest will be looking at relationships between the the bike users, stations, and times.</p>
</section>
<section id="what-features-in-the-dataset-do-you-think-will-help-support-your-investigation-into-your-features-of-interest" class="level3">
<h3 class="anchored" data-anchor-id="what-features-in-the-dataset-do-you-think-will-help-support-your-investigation-into-your-features-of-interest">What features in the dataset do you think will help support your investigation into your feature(s) of interest?</h3>
<p>The station names, user gender, type, start times, and duration will all be used to explore relationships between the stations, users, and times.</p>
</section>
</section>
<section id="univariate-exploration" class="level2">
<h2 class="anchored" data-anchor-id="univariate-exploration">Univariate Exploration</h2>
<section id="whats-the-distribution-of-user-types-in-the-data" class="level3">
<h3 class="anchored" data-anchor-id="whats-the-distribution-of-user-types-in-the-data">What’s the distribution of user types in the data?</h3>
<p>Most of the users are “Subscribers” rather than “Customers”. It’s difficult to tell from the data / documentation what the difference between these types means. Best guess is that the company allows you to subscribe to get an unlimited or X number of rentals per month as well as an option to pay for a single use of a bike.</p>
<div class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>sns.countplot(data<span class="op">=</span>bike, x<span class="op">=</span><span class="st">"user_type"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="58">
<pre><code>&lt;AxesSubplot:xlabel='user_type', ylabel='count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="bike_share_eda_files/figure-html/cell-8-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="whats-the-distribution-of-ages-in-the-data" class="level3">
<h3 class="anchored" data-anchor-id="whats-the-distribution-of-ages-in-the-data">What’s the distribution of ages in the data?</h3>
<p>The birth year distribution peaks around 1990 (around 30 years old). Unsurprisingly, most of the distribution lies between 1960 and 2000 (ages 19-60). There appears to be some outliers with birth dates that are likely data entry errors. These can be cleaned up by limiting the birthdates to no earlier than 1940 (about 80 years old)</p>
<div class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>bike, x<span class="op">=</span><span class="st">"member_birth_year"</span>, bins<span class="op">=</span><span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="59">
<pre><code>&lt;AxesSubplot:xlabel='member_birth_year', ylabel='Count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="bike_share_eda_files/figure-html/cell-9-output-2.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># clean the birthdates that don't make sense by removing them from the data</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>bike <span class="op">=</span> bike[bike[<span class="st">'member_birth_year'</span>] <span class="op">&gt;</span> <span class="dv">1940</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now that the birth years are cleaned, we can look at the histogram again</p>
<div class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>bike, x<span class="op">=</span><span class="st">"member_birth_year"</span>, bins<span class="op">=</span><span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="61">
<pre><code>&lt;AxesSubplot:xlabel='member_birth_year', ylabel='Count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="bike_share_eda_files/figure-html/cell-11-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="whats-the-distribution-of-gender-in-the-data" class="level3">
<h3 class="anchored" data-anchor-id="whats-the-distribution-of-gender-in-the-data">What’s the distribution of gender in the data?</h3>
<p>Most of the rentals in the data (over 120,000) are from males and about 4000 usages are from females. A small portion of the rentals are from users who identified as other. This data could be valuable for determining what kinds of bikes are needed to support the customer base.</p>
<div class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>sns.countplot(data<span class="op">=</span>bike, x<span class="op">=</span><span class="st">"member_gender"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="62">
<pre><code>&lt;AxesSubplot:xlabel='member_gender', ylabel='count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="bike_share_eda_files/figure-html/cell-12-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="what-proportion-of-people-are-using-the-bike-share-for-their-entire-trip" class="level3">
<h3 class="anchored" data-anchor-id="what-proportion-of-people-are-using-the-bike-share-for-their-entire-trip">What proportion of people are using the bike share for their entire trip?</h3>
<p>Most of the bike rentals did not transport the user for the entirety of their trip. It’s difficult to tell from the data/documentation if this includes walking or things like public transit and vehicles.</p>
<div class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>sns.countplot(data<span class="op">=</span>bike, x<span class="op">=</span><span class="st">"bike_share_for_all_trip"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="63">
<pre><code>&lt;AxesSubplot:xlabel='bike_share_for_all_trip', ylabel='count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="bike_share_eda_files/figure-html/cell-13-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="what-is-the-duration-of-the-trips-made-in-the-data" class="level3">
<h3 class="anchored" data-anchor-id="what-is-the-duration-of-the-trips-made-in-the-data">What is the duration of the trips made in the data?</h3>
<p>It appears that the vast majority of the data is between 0 and 30 minutes (about 2000 seconds). There are outliers extending to around an hour and half.</p>
<div class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>bike, x<span class="op">=</span><span class="st">"duration_sec"</span>, bins<span class="op">=</span><span class="dv">50</span>, binrange<span class="op">=</span>(<span class="dv">0</span>, <span class="dv">5000</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="64">
<pre><code>&lt;AxesSubplot:xlabel='duration_sec', ylabel='Count'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="bike_share_eda_files/figure-html/cell-14-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="how-many-people-are-uses-are-the-bikes-getting-for-each-day-of-the-week" class="level3">
<h3 class="anchored" data-anchor-id="how-many-people-are-uses-are-the-bikes-getting-for-each-day-of-the-week">How many people are uses are the bikes getting for each day of the week?</h3>
<p>It appears that there is a higher frequency of rentals during the week (Monday - Friday) than the weekend (Saturday - Sunday). This could be due to people using the bike sharing as a way to commute to work. It could be in the interest of the bike sharing company to to know how many bikes are needed at each station for a particular day of the week givin the cyclical demand.</p>
<div class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.countplot(data<span class="op">=</span>bike, y<span class="op">=</span><span class="st">"day_of_week"</span>, color<span class="op">=</span>sb.color_palette()[<span class="dv">0</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="bike_share_eda_files/figure-html/cell-15-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="discuss-the-distributions-of-your-variables-of-interest.-were-there-any-unusual-points-did-you-need-to-perform-any-transformations" class="level3">
<h3 class="anchored" data-anchor-id="discuss-the-distributions-of-your-variables-of-interest.-were-there-any-unusual-points-did-you-need-to-perform-any-transformations">Discuss the distribution(s) of your variable(s) of interest. Were there any unusual points? Did you need to perform any transformations?</h3>
<p>There were unusal birth years present that were cleaned by removing those rentals from the data. The variables most of interest are the gender distributions and the days of the week distribution. Those could be valuable for stocking stations for particular days.</p>
</section>
<section id="of-the-features-you-investigated-were-there-any-unusual-distributions-did-you-perform-any-operations-on-the-data-to-tidy-adjust-or-change-the-form-of-the-data-if-so-why-did-you-do-this" class="level3">
<h3 class="anchored" data-anchor-id="of-the-features-you-investigated-were-there-any-unusual-distributions-did-you-perform-any-operations-on-the-data-to-tidy-adjust-or-change-the-form-of-the-data-if-so-why-did-you-do-this">Of the features you investigated, were there any unusual distributions? Did you perform any operations on the data to tidy, adjust, or change the form of the data? If so, why did you do this?</h3>
<p>The birth year distribution was highly skewed and included birth years that were likely data entry errors (1890). The data was cleaned by removing those observations from the dataset. It’s not possible to know the correct ages, so removal seemed to be the best option</p>
</section>
</section>
<section id="bivariate-exploration" class="level2">
<h2 class="anchored" data-anchor-id="bivariate-exploration">Bivariate Exploration</h2>
<section id="what-is-the-distribution-of-durations-between-genders" class="level3">
<h3 class="anchored" data-anchor-id="what-is-the-distribution-of-durations-between-genders">What is the distribution of durations between genders?</h3>
<p>It appears that all genders have a very similar distribution, implying that there is no relationship between gender and duration time.</p>
<div class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>sns.displot(data<span class="op">=</span>bike, x<span class="op">=</span><span class="st">"duration_sec"</span>, bins<span class="op">=</span><span class="dv">50</span>, binrange<span class="op">=</span>(<span class="dv">0</span>, <span class="dv">5000</span>), kind<span class="op">=</span><span class="st">"hist"</span>, hue<span class="op">=</span><span class="st">"member_gender"</span>, alpha <span class="op">=</span> <span class="fl">.25</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="67">
<pre><code>&lt;seaborn.axisgrid.FacetGrid at 0x7fa371f2a6a0&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="bike_share_eda_files/figure-html/cell-16-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="how-does-duration-differ-by-gender" class="level3">
<h3 class="anchored" data-anchor-id="how-does-duration-differ-by-gender">How does duration differ by gender?</h3>
<p>After looking at the above distribution, we can get a clearer picture with a boxplot on whether duration varies by gender. There doesn’t appear to be any relationship between duration and gender. This plot gives a clearer picture of the lack of relationship than the histogram previously</p>
<div class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>sns.catplot(data<span class="op">=</span>bike, x<span class="op">=</span><span class="st">"member_gender"</span>, y<span class="op">=</span><span class="st">"duration_sec"</span>, kind<span class="op">=</span><span class="st">"box"</span>, sym<span class="op">=</span><span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="68">
<pre><code>&lt;seaborn.axisgrid.FacetGrid at 0x7fa3e7fd2b20&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="bike_share_eda_files/figure-html/cell-17-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="how-does-user-type-change-over-the-course-of-a-week" class="level3">
<h3 class="anchored" data-anchor-id="how-does-user-type-change-over-the-course-of-a-week">How does user type change over the course of a week?</h3>
<p>The subscriber data follows a similar trend to the overall week distribution in the univariate section. However, the customer user type does not follow the same trend and the difference in customers between the days of the week are small enough and variable enough that there does not appear to be any interesting trends in the weekday data looking at different customer types.</p>
<div class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># facet the plots and free the y axis to get a clearer comparison of the distributions</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>day_users <span class="op">=</span> bike[[<span class="st">'day_of_week'</span>, <span class="st">'user_type'</span>]].value_counts().rename(<span class="st">"uses"</span>).reset_index()</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.catplot(data<span class="op">=</span>day_users, x<span class="op">=</span><span class="st">"day_of_week"</span>, y<span class="op">=</span><span class="st">"uses"</span>, col<span class="op">=</span><span class="st">'user_type'</span>, kind<span class="op">=</span><span class="st">"point"</span>, sharey<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>g.set_xticklabels(rotation<span class="op">=</span><span class="dv">30</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="bike_share_eda_files/figure-html/cell-18-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="how-does-duration-time-differ-between-customer-types" class="level3">
<h3 class="anchored" data-anchor-id="how-does-duration-time-differ-between-customer-types">How does duration time differ between customer types</h3>
<p>Due to the large number of outliers, it’s difficult to visualize the duration between customer types. Cutting out the outliers, it appears that customers use the bikes longer than subscribers, but the IQRs overlap, so it’s hard to say from this visualization if there is a statistically significant trend.</p>
<div class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>sns.catplot(data<span class="op">=</span>bike, x<span class="op">=</span><span class="st">"user_type"</span>, y<span class="op">=</span><span class="st">"duration_sec"</span>, kind<span class="op">=</span><span class="st">"box"</span>, sym<span class="op">=</span><span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="70">
<pre><code>&lt;seaborn.axisgrid.FacetGrid at 0x7fa371f520d0&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="bike_share_eda_files/figure-html/cell-19-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="how-does-duration-of-a-trip-change-with-birth-year-of-user" class="level3">
<h3 class="anchored" data-anchor-id="how-does-duration-of-a-trip-change-with-birth-year-of-user">How does duration of a trip change with birth year of user</h3>
<p>The duration of the trips were tranformed to a log scale which shows a slight trend in younger users more likely to go on longer trips.</p>
<div class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>bike, x<span class="op">=</span><span class="st">"member_birth_year"</span>, y<span class="op">=</span><span class="st">"duration_sec"</span>, alpha<span class="op">=</span><span class="fl">0.25</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>plt.yscale(<span class="st">"log"</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>ticks<span class="op">=</span> [<span class="dv">100</span>, <span class="dv">1000</span>, <span class="dv">10000</span>, <span class="dv">100000</span>]</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>labels <span class="op">=</span> [<span class="st">'</span><span class="sc">{}</span><span class="st">'</span>.<span class="bu">format</span>(v) <span class="cf">for</span> v <span class="kw">in</span> ticks]</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>plt.yticks(ticks, labels)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="bike_share_eda_files/figure-html/cell-20-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="does-birth-year-vary-with-user-type" class="level3">
<h3 class="anchored" data-anchor-id="does-birth-year-vary-with-user-type">Does birth year vary with user type?</h3>
<p>There does not seem to be any trend with the user type and the birth year.</p>
<div class="cell" data-execution_count="72">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>sns.catplot(data<span class="op">=</span>bike, x<span class="op">=</span><span class="st">"user_type"</span>, y<span class="op">=</span><span class="st">"member_birth_year"</span>, kind<span class="op">=</span><span class="st">"box"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="72">
<pre><code>&lt;seaborn.axisgrid.FacetGrid at 0x7fa3e258f2b0&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="bike_share_eda_files/figure-html/cell-21-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="how-many-times-per-day-are-the-most-popular-routes-traveled" class="level3">
<h3 class="anchored" data-anchor-id="how-many-times-per-day-are-the-most-popular-routes-traveled">How many times per day are the most popular routes traveled?</h3>
<p>The most popular station-to-station route, Berry St at 4th St and San Francisco Ferry Building is traveled about 14 times per day on average. The top 10 most popular routes are travelled at least 10 times per day on average for the month of data.</p>
<div class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># count the number of rentals for each station combo and keep the top 10</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>station_combos <span class="op">=</span> bike.value_counts(<span class="st">"station_combo"</span>, sort<span class="op">=</span><span class="va">True</span>).head(<span class="dv">10</span>).rename(<span class="st">"num_rentals"</span>).reset_index()</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="co"># get the mean rentals per day (adding 1 to make it inclusive of the start/end dates)</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>station_combos[<span class="st">'average_rentals_per_day'</span>] <span class="op">=</span> station_combos[<span class="st">'num_rentals'</span>] <span class="op">/</span> (bike.start_time.<span class="bu">max</span>() <span class="op">-</span> bike.start_time.<span class="bu">min</span>()).days <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>station_combos, y<span class="op">=</span><span class="st">"station_combo"</span>, x<span class="op">=</span><span class="st">"average_rentals_per_day"</span>, color<span class="op">=</span>sb.color_palette()[<span class="dv">0</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="73">
<pre><code>&lt;AxesSubplot:xlabel='average_rentals_per_day', ylabel='station_combo'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="bike_share_eda_files/figure-html/cell-22-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="whats-the-average-duration-between-stations" class="level3">
<h3 class="anchored" data-anchor-id="whats-the-average-duration-between-stations">What’s the average duration between stations?</h3>
<p>Looking at the stations with the largest mean duration between stations, the top ten routes have a mean duration of 10 to about 25 hours.</p>
<div class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get the mean duration for each station combo</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>station_combo_dur <span class="op">=</span> bike.groupby(<span class="st">"station_combo"</span>).duration_sec.mean().rename(<span class="st">"mean_dur_secs"</span>).reset_index().sort_values(<span class="st">"mean_dur_secs"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co"># convert from sec to hr</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>station_combo_dur[<span class="st">'mean_dur_hours'</span>] <span class="op">=</span> station_combo_dur[<span class="st">'mean_dur_secs'</span>] <span class="op">/</span> <span class="dv">60</span> <span class="op">/</span> <span class="dv">60</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>station_combo_dur.head(<span class="dv">10</span>), y<span class="op">=</span><span class="st">"station_combo"</span>, x<span class="op">=</span><span class="st">"mean_dur_hours"</span>, color<span class="op">=</span>sb.color_palette()[<span class="dv">0</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="74">
<pre><code>&lt;AxesSubplot:xlabel='mean_dur_hours', ylabel='station_combo'&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="bike_share_eda_files/figure-html/cell-23-output-2.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="talk-about-some-of-the-relationships-you-observed-in-this-part-of-the-investigation.-how-did-the-features-of-interest-vary-with-other-features-in-the-dataset" class="level3">
<h3 class="anchored" data-anchor-id="talk-about-some-of-the-relationships-you-observed-in-this-part-of-the-investigation.-how-did-the-features-of-interest-vary-with-other-features-in-the-dataset">Talk about some of the relationships you observed in this part of the investigation. How did the feature(s) of interest vary with other features in the dataset?</h3>
<p>There doesn’t appear to be any clear trend between gender and other features, however there does appear to be a trend in member age and the duration of the bike rental. Younger users tend to rent for a longer time than older users, however, the trend is slight and a majority of users rent the bikes for around the same amount of time. There may also be a slight trend in users designated as customers having the rentals for a longer duration than the users designated as subscribers. However, the IQRs overlap, so the trend is likely not statistically significant. A hypothesis test could be conducted to determine this if we wished to investigate this further.</p>
</section>
<section id="did-you-observe-any-interesting-relationships-between-the-other-features-not-the-main-features-of-interest" class="level3">
<h3 class="anchored" data-anchor-id="did-you-observe-any-interesting-relationships-between-the-other-features-not-the-main-features-of-interest">Did you observe any interesting relationships between the other features (not the main feature(s) of interest)?</h3>
<p>We were able to use some feature engineering to determine the number of rentals per day between station combinations. This could be further explored in combination with the lat/long data to map out the routes between stations color encoded by the average rentals per day in between each station combination. We will likely not investigate this further as it requires mapping packages.</p>
</section>
</section>
<section id="multivariate-exploration" class="level2">
<h2 class="anchored" data-anchor-id="multivariate-exploration">Multivariate Exploration</h2>
<section id="how-does-the-mean-number-of-rentals-by-gender-vary-per-day-of-the-week-for-the-most-popular-starting-stations" class="level3">
<h3 class="anchored" data-anchor-id="how-does-the-mean-number-of-rentals-by-gender-vary-per-day-of-the-week-for-the-most-popular-starting-stations">How does the mean number of rentals by gender, vary per day of the week for the most popular starting stations?</h3>
<p>Understanding how the number of rentals by gender varies per day of the week for the most popular stations can be useful for the company to ensure that the stations have the proper supply of the correct bike sizes to meet their customer demand.</p>
<p>First, we can find the total number of rentals for each station start, gender, and day of the week in the dataset and filter to only look at the top six most used stations. Then, using seaborn’s catplot and using the default mean estimator, we can use <code>num_rentals</code> to visualize the mean and standard error.</p>
<div class="cell" data-execution_count="78">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get the date for each rental</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>bike[<span class="st">"date"</span>] <span class="op">=</span> bike.start_time.dt.floor(<span class="st">"D"</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co"># count the number of rentals for each date, station, and gender</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>bike_rentals <span class="op">=</span> bike.groupby([<span class="st">"start_station_name"</span>, <span class="st">"member_gender"</span>, <span class="st">"date"</span>]).agg(num_rentals <span class="op">=</span> (<span class="st">'start_time'</span>, <span class="st">'count'</span>)).reset_index()</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="co"># get day of week for each date</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>bike_rentals[<span class="st">"day_of_week"</span>] <span class="op">=</span> get_day_of_week(bike_rentals, <span class="st">"date"</span>)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="co"># get the six stations with the most total rentals</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>top_six_stations <span class="op">=</span> bike_rentals.groupby(<span class="st">"start_station_name"</span>).num_rentals.<span class="bu">sum</span>().reset_index().sort_values(<span class="st">"num_rentals"</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">6</span>).start_station_name.values </span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="co"># filter the bike rentals for the top six stations</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>top_six_station_rentals <span class="op">=</span> bike_rentals[bike_rentals[<span class="st">"start_station_name"</span>].isin(top_six_stations)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can use a facet grid by station to see how the demand for each day of the week varies by gender. For instance, at the San Francisco Caltrain Station 2, there are a small fraction of rentals for both male and females during the weekend compared to weekdays, so that station doesn’t need to be as stocked with as many bikes as it should during the week. Whereas the Market St at 10th St station doesn’t see as large of a dropoff in female users during the weekend, so supply at that station should be about half what it is during the week to meet demand. We can also use the standard devation to get an idea of how much the demand varies for each day.</p>
<div class="cell" data-execution_count="77">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># catplot defaults to the mean estimator, so using num_re</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.catplot(</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>top_six_station_rentals, </span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">"day_of_week"</span>, y<span class="op">=</span><span class="st">"num_rentals"</span>, </span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>    hue<span class="op">=</span><span class="st">"member_gender"</span>, kind<span class="op">=</span><span class="st">"point"</span>,</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>    hue_order<span class="op">=</span>[<span class="st">"Male"</span>, <span class="st">"Female"</span>, <span class="st">"Other"</span>],</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>    col<span class="op">=</span><span class="st">"start_station_name"</span>, </span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    col_wrap<span class="op">=</span><span class="dv">3</span>,</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>    ci<span class="op">=</span><span class="st">"sd"</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>g.legend.remove()<span class="op">;</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>g.add_legend(title<span class="op">=</span><span class="st">"Gender"</span>)<span class="op">;</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>sb.move_legend(g, <span class="st">"upper right"</span>)<span class="op">;</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>g.set_titles(col_template<span class="op">=</span><span class="st">"</span><span class="sc">{col_name}</span><span class="st">"</span>)<span class="op">;</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>g.<span class="bu">set</span>(xlabel<span class="op">=</span><span class="st">"Day of Week"</span>, ylabel<span class="op">=</span><span class="st">"Mean Rentals"</span>)<span class="op">;</span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>g.set_xticklabels(rotation<span class="op">=</span><span class="dv">30</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="bike_share_eda_files/figure-html/cell-25-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="talk-about-some-of-the-relationships-you-observed-in-this-part-of-the-investigation.-were-there-features-that-strengthened-each-other-in-terms-of-looking-at-your-features-of-interest" class="level3">
<h3 class="anchored" data-anchor-id="talk-about-some-of-the-relationships-you-observed-in-this-part-of-the-investigation.-were-there-features-that-strengthened-each-other-in-terms-of-looking-at-your-features-of-interest">Talk about some of the relationships you observed in this part of the investigation. Were there features that strengthened each other in terms of looking at your feature(s) of interest?</h3>
<p>The main interest in this section was to create a data visualization that allows for an analysis of the mean rentals broken down by gender for each day of the week, across all stations (but only focusing on the most popular stations). The trends shown in this multivariate visualization can help inform the company on how well each bike station should be stocked to support their customer demands such as the number of bikes needed at a particular station on a given day and bike sizes to support a certain number of males and females.</p>
</section>
<section id="were-there-any-interesting-or-surprising-interactions-between-features" class="level3">
<h3 class="anchored" data-anchor-id="were-there-any-interesting-or-surprising-interactions-between-features">Were there any interesting or surprising interactions between features?</h3>
<p>All of the top stations showed a decrease in usage during the weekend, but some stations show a much more dramatic decrease than others, suggesting that some station may be much more utilized for work commutes. This information can help determine which stations need to be supplied with fewer bikes during the week and which ones need a fairly consistent number of bikes. For example, the Powell St BART Station only sees a small decrease in rentals from females during the weekend, suggesting that their supply of bikes that are better suited for female riders should remain relatively consistent throughout the week.</p>
</section>
</section>
<section id="conclusions" class="level2">
<h2 class="anchored" data-anchor-id="conclusions">Conclusions</h2>
<p>In this analysis, a number of relationships were examined involving the rental stations, time/duration of the rental and user information. The analysis showed that more males than females tend to rent bikes, younger users have a slightly larger tendency for longer duration rentals, and the number of rentals tends to drop during the weekends, compared to weekdays. After putting together features for station name, gender, and using feature engineering to obtain the day of the week and the mean rentals per day of the week, we were able to create a visualization that can help to inform the bike sharing company on how their bike supplies should be stocked based on the station, day of the week, and gender of their users. This information is useful for keeping stations stocked with an adequate supply to meet customer demand. Given these conclusions, because this data only contains rentals in the month of February, the insights found in this analysis may not hold in other months of the year. We may expect to see different results if we were to analyze a month in the summer when the weather is warmer and many of these trends may differ if we analyzed data from another city.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>